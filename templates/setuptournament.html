<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tournament Setup</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body style="background: url('{{ url_for('static', filename='chessboard.jpg') }}') no-repeat center center fixed; background-size: cover;" class="d-flex justify-content-center align-items-center vh-100">

<div class="card shadow p-4" style="width: 400px;">
    <h3 class="card-title text-center mb-4">Tournament Setup</h3>

    {% if error %}
    <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <form id="tform" method="POST" action="{{ url_for('setuptournament') }}">
        <input type="hidden" name="tournament_name" id="tournament_name">

        <div class="mb-3">
            <label class="form-label">Number of Rounds</label>
            <input type="number" class="form-control" name="rounds" min="1" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Number of Players (Even only)</label>
            <input type="number" class="form-control" name="players" min="2" step="2" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Win Points</label>
            <input type="number" class="form-control" name="win_points" step="0.5" value="1" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Draw Points</label>
            <input type="number" class="form-control" name="draw_points" step="0.5" value="0.5" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Loss Points</label>
            <input type="number" class="form-control" name="loss_points" step="0.5" value="0" required>
        </div>

        <button type="submit" class="btn btn-primary w-80">Save Tournament</button>
        <a href="{{ url_for('setupdashboard') }}" class="btn btn-info w-80">Back</a>
    </form>
</div>

<script>
document.getElementById("tform").addEventListener("submit", function(e) {
    let name = prompt("Enter tournament name:");

    if (!name || name.trim() === "") {
        e.preventDefault();
        alert("You must enter a tournament name!");
        return false;
    }

    document.getElementById("tournament_name").value = name.trim();
});
</script>
</body>
</html>
